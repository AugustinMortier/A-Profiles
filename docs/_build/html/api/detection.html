
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Detection &#8212; A-Profiles  documentation</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/css/blank.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/css/custom.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/js/custom.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Retrieval" href="retrieval.html" />
    <link rel="prev" title="Data Classes" href="data_classes.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../index.html">
<p class="title">A-Profiles</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../installation.html">
  Installation
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../examples.html">
  Examples
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="../api.html">
  API
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../changelog.html">
  Changelog
 </a>
</li>

    
    <li class="nav-item">
        <a class="nav-link nav-external" href="https://vprofiles.met.no">V-Profiles<i class="fas fa-external-link-alt"></i></a>
    </li>
    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/AugustinMortier/A-Profiles" rel="noopener" target="_blank" title="GitHub">
            <span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label>
          </a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="reader.html">
   Reader
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="data_classes.html">
   Data Classes
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Detection
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="retrieval.html">
   Retrieval
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="plotting.html">
   Plotting
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="writing.html">
   Writing
  </a>
 </li>
</ul>

  </div>
</nav>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fog-or-condensation">
   Fog or Condensation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#clouds">
   Clouds
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#planetary-boundary-layer">
   Planetary Boundary Layer
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <div class="section" id="detection">
<h1>Detection<a class="headerlink" href="#detection" title="Permalink to this headline">¶</a></h1>
<p>The following functions are methods from the class <a class="reference internal" href="data_classes.html#aprofiles.profiles.ProfilesData" title="aprofiles.profiles.ProfilesData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aprofiles.profiles.ProfilesData</span></code></a>.</p>
<div class="section" id="fog-or-condensation">
<h2>Fog or Condensation<a class="headerlink" href="#fog-or-condensation" title="Permalink to this headline">¶</a></h2>
<p>This method allows for the detection of fog or condensation in single profiles.</p>
<span class="target" id="module-aprofiles.detection.foc"></span><dl class="py function">
<dt id="aprofiles.detection.foc.detect_foc">
<code class="sig-prename descclassname">aprofiles.detection.foc.</code><code class="sig-name descname">detect_foc</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">profiles</span></em>, <em class="sig-param"><span class="n">method</span><span class="o">=</span><span class="default_value">'cloud_base'</span></em>, <em class="sig-param"><span class="n">var</span><span class="o">=</span><span class="default_value">'attenuated_backscatter_0'</span></em>, <em class="sig-param"><span class="n">z_snr</span><span class="o">=</span><span class="default_value">2000.0</span></em>, <em class="sig-param"><span class="n">min_snr</span><span class="o">=</span><span class="default_value">2.0</span></em>, <em class="sig-param"><span class="n">zmin_cloud</span><span class="o">=</span><span class="default_value">200.0</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aprofiles/detection/foc.html#detect_foc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aprofiles.detection.foc.detect_foc" title="Permalink to this definition">¶</a></dt>
<dd><p>Detects fog or condensation.</p>
<dl>
<dt>Args:</dt><dd><ul class="simple">
<li><p>profiles (<a class="reference internal" href="data_classes.html#aprofiles.profiles.ProfilesData" title="aprofiles.profiles.ProfilesData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aprofiles.profiles.ProfilesData</span></code></a>): <cite>ProfilesData</cite> instance.</p></li>
<li><p>method ({‘cloud_base’, ‘snr’}, optional): Defaults to <cite>‘cloud_base’</cite>.</p></li>
<li><p>var (str, optional). Used for ‘snr’ method. Variable to calculate SNR from. Defaults to <cite>‘attenuated_backscatter_0’</cite>.</p></li>
<li><p>z_snr (float, optional): Used for ‘snr’ method. Altitude AGL (in m) at which we calculate the SNR. Defaults to <cite>2000.</cite>.</p></li>
<li><p>min_snr (float, optional): Used for ‘snr’ method. Minimum SNR under which the profile is considered as containing fog or condensation. Defaults to <cite>2.</cite>.</p></li>
<li><p>zmin_cloud (float, optional): Used for ‘cloud_base’ method. Altitude AGL (in m) below which a cloud base height is considered a fog or condensation situation. Defaults to <cite>200.</cite>.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt><a class="reference internal" href="data_classes.html#aprofiles.profiles.ProfilesData" title="aprofiles.profiles.ProfilesData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aprofiles.profiles.ProfilesData</span></code></a> object with additional <a class="reference external" href="http://xarray.pydata.org/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v0.19.1.dev6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.DataArray</span></code></a> in <a class="reference internal" href="data_classes.html#aprofiles.profiles.ProfilesData.data" title="aprofiles.profiles.ProfilesData.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">aprofiles.profiles.ProfilesData.data</span></code></a>.</dt><dd><ul class="simple">
<li><p><cite>‘foc’ (time)</cite>: mask array corresponding to the presence of foc.</p></li>
</ul>
</dd>
</dl>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">aprofiles</span> <span class="k">as</span> <span class="nn">apro</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># read example file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;examples/data/L2_0-20000-001492_A20210909.nc&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reader</span> <span class="o">=</span> <span class="n">apro</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">ReadProfiles</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profiles</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># foc detection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profiles</span><span class="o">.</span><span class="n">foc</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># attenuated backscatter image with pbl up to 6km of altitude</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profiles</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">show_foc</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">zmax</span><span class="o">=</span><span class="mf">6000.</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mf">1e-2</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">1e1</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-default" id="id1">
<a class="reference internal image-reference" href="../_images/foc1.png"><img alt="foc detection" src="../_images/foc1.png" style="width: 600.0px; height: 200.0px;" /></a>
<p class="caption"><span class="caption-text">Fog or condensation (foc) detection.</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="clouds">
<h2>Clouds<a class="headerlink" href="#clouds" title="Permalink to this headline">¶</a></h2>
<p>This method allows for the detection of clouds in single profiles.</p>
<span class="target" id="module-aprofiles.detection.clouds"></span><dl class="py function">
<dt id="aprofiles.detection.clouds.detect_clouds">
<code class="sig-prename descclassname">aprofiles.detection.clouds.</code><code class="sig-name descname">detect_clouds</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">profiles</span></em>, <em class="sig-param"><span class="n">time_avg</span><span class="o">=</span><span class="default_value">1.0</span></em>, <em class="sig-param"><span class="n">zmin</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">thr_noise</span><span class="o">=</span><span class="default_value">5.0</span></em>, <em class="sig-param"><span class="n">thr_clouds</span><span class="o">=</span><span class="default_value">4.0</span></em>, <em class="sig-param"><span class="n">min_snr</span><span class="o">=</span><span class="default_value">0.0</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aprofiles/detection/clouds.html#detect_clouds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aprofiles.detection.clouds.detect_clouds" title="Permalink to this definition">¶</a></dt>
<dd><p>Module for <em>clouds detection</em>.
The detection is performed on each individual profile. It is based on the analysis of the vertical gradient of the profile as respect to the level of noise measured in the profile.</p>
<dl>
<dt>Args:</dt><dd><ul class="simple">
<li><p>profiles (<a class="reference internal" href="data_classes.html#aprofiles.profiles.ProfilesData" title="aprofiles.profiles.ProfilesData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aprofiles.profiles.ProfilesData</span></code></a>): <cite>ProfilesData</cite> instance.</p></li>
<li><p>time_avg (float, optional): in minutes, the time during which we aggregates the profiles prior to the clouds detection. Defaults to <cite>1</cite>.</p></li>
<li><p>zmin (float, optional): altitude AGL, in m, above which we look for clouds. Defaults to <cite>0</cite>. We recommend using the same value as used in the extrapolation_low_layers method.</p></li>
<li><p>thr_noise (float, optional): threshold used in the test to determine if a couple (base,peak) is significant: data[peak(z)] - data[base(z)] &gt;= thr_noise * noise(z). Defaults to <cite>5</cite>.</p></li>
<li><p>thr_clouds (float, optional): threshold used to discriminate aerosol from clouds: data[peak(z)] / data[base(z)] &gt;= thr_clouds. Defaults to <cite>4</cite>.</p></li>
<li><p>min_snr (float, optional). Minimum SNR required at the clouds peak value to consider the cloud as valid. Defaults to <cite>0</cite>.</p></li>
<li><p>verbose (bool, optional): verbose mode. Defaults to <cite>False</cite>.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt><a class="reference internal" href="data_classes.html#aprofiles.profiles.ProfilesData" title="aprofiles.profiles.ProfilesData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aprofiles.profiles.ProfilesData</span></code></a> object with additional <a class="reference external" href="http://xarray.pydata.org/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v0.19.1.dev6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.DataArray</span></code></a> in <a class="reference internal" href="data_classes.html#aprofiles.profiles.ProfilesData.data" title="aprofiles.profiles.ProfilesData.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">aprofiles.profiles.ProfilesData.data</span></code></a>.</dt><dd><ul class="simple">
<li><p><cite>‘clouds_bases’ (time, altitude)</cite>: mask array corresponding to the bases of the clouds.</p></li>
<li><p><cite>‘clouds_peaks’ (time, altitude)</cite>: mask array corresponding to the peaks (maximum signal measured) of the clouds.</p></li>
<li><p><cite>‘clouds_tops’ (time, altitude)</cite>: mask array corresponding to the top of the cloud if the beam crosses the cloud. If not, the top corresponds to the first value where the signal becomes lower than the one measured at the base of the cloud.</p></li>
</ul>
</dd>
</dl>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">aprofiles</span> <span class="k">as</span> <span class="nn">apro</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># read example file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;examples/data/L2_0-20000-001492_A20210909.nc&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reader</span> <span class="o">=</span> <span class="n">apro</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">ReadProfiles</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profiles</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># clouds detection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profiles</span><span class="o">.</span><span class="n">clouds</span><span class="p">(</span><span class="n">zmin</span><span class="o">=</span><span class="mf">300.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># attenuated backscatter image with clouds</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profiles</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">show_clouds</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mf">1e-2</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">1e1</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-default" id="id2">
<a class="reference internal image-reference" href="../_images/clouds1.png"><img alt="clouds detection" src="../_images/clouds1.png" style="width: 600.0px; height: 200.0px;" /></a>
<p class="caption"><span class="caption-text">Clouds detection.</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
</dd>
</dl>
</dd></dl>

</div>
<div class="section" id="planetary-boundary-layer">
<h2>Planetary Boundary Layer<a class="headerlink" href="#planetary-boundary-layer" title="Permalink to this headline">¶</a></h2>
<p>This method allows for tge tracking of the PBL height in single profiles.</p>
<span class="target" id="module-aprofiles.detection.pbl"></span><dl class="py function">
<dt id="aprofiles.detection.pbl.detect_pbl">
<code class="sig-prename descclassname">aprofiles.detection.pbl.</code><code class="sig-name descname">detect_pbl</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">profiles</span></em>, <em class="sig-param"><span class="n">time_avg</span><span class="o">=</span><span class="default_value">1</span></em>, <em class="sig-param"><span class="n">zmin</span><span class="o">=</span><span class="default_value">100.0</span></em>, <em class="sig-param"><span class="n">zmax</span><span class="o">=</span><span class="default_value">3000.0</span></em>, <em class="sig-param"><span class="n">wav_width</span><span class="o">=</span><span class="default_value">200.0</span></em>, <em class="sig-param"><span class="n">under_clouds</span><span class="o">=</span><span class="default_value">True</span></em>, <em class="sig-param"><span class="n">min_snr</span><span class="o">=</span><span class="default_value">2.0</span></em>, <em class="sig-param"><span class="n">verbose</span><span class="o">=</span><span class="default_value">False</span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/aprofiles/detection/pbl.html#detect_pbl"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#aprofiles.detection.pbl.detect_pbl" title="Permalink to this definition">¶</a></dt>
<dd><p>Module for <em>Planetary Boundary Layer Height</em> detection.
Detects Planetary Boundary Layer Height between zmin and zmax by looking at the maximum vertical gradient in each individual profiles.</p>
<dl>
<dt>Args:</dt><dd><ul class="simple">
<li><p>profiles (<a class="reference internal" href="data_classes.html#aprofiles.profiles.ProfilesData" title="aprofiles.profiles.ProfilesData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aprofiles.profiles.ProfilesData</span></code></a>): <cite>ProfilesData</cite> instance.</p></li>
<li><p>time_avg (int, optional): in minutes, the time during which we aggregate the profiles before detecting the PBL. Defaults to <cite>1</cite>.</p></li>
<li><p>zmin (float, optional): maximum altitude AGL, in m, for retrieving the PBL. Defaults to <cite>100</cite>.</p></li>
<li><p>zmin (float, optional): minimum altitude AGL, in m, for retrieving the PBL. Defaults to <cite>3000</cite>.</p></li>
<li><p>wav_width (float, optional): Width of the wavelet used in the convolution, in m. Defaults to <cite>200</cite>.</p></li>
<li><p>under_clouds (bool, optional): If True, and if clouds detection have been called before, force the PBL to be found below the first cloud detected in the profile. Defaults to <cite>True</cite>.</p></li>
<li><p>min_snr (float, optional). Minimum SNR at the retrieved PBL height required to return a valid value. Defaults to <cite>2.</cite>.</p></li>
<li><p>verbose (bool, optional): verbose mode. Defaults to <cite>False</cite>.</p></li>
</ul>
</dd>
<dt>Returns:</dt><dd><dl class="simple">
<dt><a class="reference internal" href="data_classes.html#aprofiles.profiles.ProfilesData" title="aprofiles.profiles.ProfilesData"><code class="xref py py-class docutils literal notranslate"><span class="pre">aprofiles.profiles.ProfilesData</span></code></a> object with additional <a class="reference external" href="http://xarray.pydata.org/en/stable/generated/xarray.DataArray.html#xarray.DataArray" title="(in xarray v0.19.1.dev6)"><code class="xref py py-class docutils literal notranslate"><span class="pre">xarray.DataArray</span></code></a> in <a class="reference internal" href="data_classes.html#aprofiles.profiles.ProfilesData.data" title="aprofiles.profiles.ProfilesData.data"><code class="xref py py-attr docutils literal notranslate"><span class="pre">aprofiles.profiles.ProfilesData.data</span></code></a>.</dt><dd><ul class="simple">
<li><p><cite>‘pbl’ (time, altitude)</cite>: mask array corresponding to the pbl height.</p></li>
</ul>
</dd>
</dl>
</dd>
<dt>Example:</dt><dd><div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">aprofiles</span> <span class="k">as</span> <span class="nn">apro</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># read example file</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">path</span> <span class="o">=</span> <span class="s2">&quot;examples/data/L2_0-20000-001492_A20210909.nc&quot;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">reader</span> <span class="o">=</span> <span class="n">apro</span><span class="o">.</span><span class="n">reader</span><span class="o">.</span><span class="n">ReadProfiles</span><span class="p">(</span><span class="n">path</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profiles</span> <span class="o">=</span> <span class="n">reader</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># pbl detection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profiles</span><span class="o">.</span><span class="n">pbl</span><span class="p">(</span><span class="n">zmin</span><span class="o">=</span><span class="mf">100.</span><span class="p">,</span> <span class="n">zmax</span><span class="o">=</span><span class="mf">3000.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="c1"># attenuated backscatter image with pbl up to 6km of altitude</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">profiles</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">show_pbl</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">zmax</span><span class="o">=</span><span class="mf">6000.</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=</span><span class="mf">1e-2</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mf">1e1</span><span class="p">,</span> <span class="n">log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<div class="figure align-default" id="id3">
<a class="reference internal image-reference" href="../_images/pbl1.png"><img alt="clouds detection" src="../_images/pbl1.png" style="width: 600.0px; height: 200.0px;" /></a>
<p class="caption"><span class="caption-text">Planetary Boundary Layer Height detection.</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
</dd>
</dl>
</dd></dl>

</div>
</div>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="data_classes.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">Data Classes</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="retrieval.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Retrieval</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>
<footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2021, Augustin Mortier.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 3.2.1.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>